# k8s-Study
추석 - 인프런 쿠버 강의를 보며 공부해보자



# 컨테이너 오케스트레이션 (서버를 관리한다는 것)

VM
서버하나에 가상머신이 여러개!
조금 느리고 관리가 불편하지만 괜찮다.

클라우드, 특정 벤더의 의존성이 생기기 때문에 사용하기 어렵고
기본적으로 하이퍼바이저가 있기에 성능이 느리다.

이때 !
도커가 나온다.

모든 실행환경을 도커로 !

특정 클라우드 벤더에 종송적이지 않고, 언어, 프레임워크에 상관없이
애플리케이션을 동일한 방식으로 관리 ( 오픈소스 )

aws -> gcp 

Developer 가 코드를 짜고 -> Build ( 도커 이미지를 만들고 ) -> 만든이미지를 도커허브, 저장소에 저장하고 
-> 그 도커이미지를 컨테이너를 실행

이 과정이 도커를 도입하고 나서 이 일련의 프로세스가 똑같아진다. 원래는 플랫폼이 다를때 이게 어려웟지만 이게 이롷게 된거지..


이제 이렇게 도커 컨테이너 여러개를 만들어서 사용하다보니까! 불편함이 있는거야. 너무많은 컨테이너가 있기 때문에
이렇게 많은 수천개 수만개! 의 컨테이너로 인해 관리가쫌..............


dcoker stop app && docker run .. : server 1
dcoker stop app && docker run .. : server 2
dcoker stop app && docker run .. : server 3

또한 서버가 여러개가 있는데 여기 중에서 컨테이너가 실행되고 있는지 모르겠어! 즉, 각 컨테이너가 실행중인 서버를
모니터링해주고 관리해야돼!


롤아웃, 롤백 ( 버전업하고 싶거나 )

Proxy { web : "192.168.0.200"  }
LoadBalancer { 10.0.0.100 , 10.0.0.101 }

web container 1
web container 2


서비스 이상, 부하 모니터링 은 어떻게할까?

복잡한 컨테이너 환경을 효과적으로 관리하기 위한 도구 : 컨테이너 오케스트레이션

서버관리자가 하는일을 대신해주는 프로그램을 만드는것 !

클러스터 : 클러스터 단위로 컨테이너 여러개를 하나로 합쳐서 추상화해서 관리를 한다 
마스터 서버를 앞에다가 두고 ! 클러스터 단위의 여러개의 도커 컨테이너를 관리한다 
즉, 마스터한테 명령을 잘해주면된다. !

복제를 3개 해주는 상태관리도 있다.
{
  image : "app1"
  replicas : 3
}

배포 버전관리도 있다!
서비스 디스커버리도 있고!
불륨설정도 가능하다! Node 1에는 aws , Node 2에는 GCP 등!


# 어떤것을 공부할까?

일련의 프로세스는

1.개발자가 코드를 작성
2. git merge request or push!
3. Build Test, Create Container Image, Push Container Image - Docker Registry 
4. Deploy : New or Update 
5. Kubernates 
6. Scale Out 

도커 컨테이너 실행하기  - 도커와 도커컴포즈를 이요한 멀티 컨테이너 
쿠버네티스에 컨테이너 배포하기 
외부 접속 설정하기
스케일 아웃하기 - 부하에 따른 컨테이너 관리 
그외 고급기능 소개






















